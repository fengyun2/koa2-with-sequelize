{"version":3,"sources":["../../src/models/blogModel.js"],"names":[],"mappings":";;AAEA,qD;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;;;;AAIA,IAAM,OAAO,SAAP,IAAO,CAAC,IAAD,EAAU;AACnB,QAAI,SAAS,yBAAc,IAAd,CAAb;AACA,WAAO,sBAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACpC,eAAO,IAAP,CAAY,UAAC,GAAD,EAAM,MAAN,EAAiB;AACzB,gBAAI,GAAJ,EAAS;AACL,uBAAO,OAAO,EAAE,KAAK,IAAI,MAAX,EAAmB,SAAS,IAAI,OAAhC,EAAyC,QAAQ,CAAC,EAAlD,EAAP,CAAP;AACH;AACD,mBAAO,QAAQ,MAAR,CAAP;AACH,SALD;AAMH,KAPM,CAAP;AAQH,CAVD;;AAYA;;;;;OA9CA;AAoDA,IAAM,OAAO,SAAP,IAAO,CAAC,UAAD,EAAa,MAAb,EAAqB,OAArB,EAAiC;AAC1C;AACA,WAAO,qBAAU,IAAV,CAAe,UAAf,EAA2B,MAA3B,EAAmC,OAAnC,EAA4C,IAA5C,EAAP;AACH,CAHD;;AAKA;;;AAGA,IAAM,aAAa,SAAb,UAAa,CAAC,IAAD,EAAO,EAAP,EAAc;AAC7B,WAAO,qBAAU,UAAV,CAAqB,IAArB,EAA2B,EAA3B,CAAP;AACH,CAFD,C;;AAIe;AACX,cADW;AAEX,cAFW;AAGX,0BAHW,E","file":"blogModel.js","sourcesContent":["// /<reference path=\"../../typings/index.d.ts\" />\r\n\r\nimport blogModel from '../schema/blogSchema.js';\r\n\r\n/*class Blog {\r\n    constructor(db = null, blog = {}) {\r\n            this.db = db\r\n\r\n            this.blog = {}\r\n            this.blog.title = blog.title || null\r\n        }\r\n\r\n    save(blog) {\r\n        const action = new blogModel(blog)\r\n        return new Promise((resolve, reject) => {\r\n            action.save(function(err, result) => {\r\n                if (err) {\r\n                    return reject({ err: err.errors, message: err.message, code: -99 })\r\n                }\r\n                return resolve(result)\r\n            })\r\n        })\r\n    }\r\n    find(conditions, fields, options) {\r\n        // exec 返回promise实例\r\n        return blogModel.find(conditions, fields, options).exec()\r\n    }\r\n}\r\n*/\r\n\r\n/**\r\n * 【添加blog】\r\n * @param blog {object}\r\n */\r\nconst save = (blog) => {\r\n    var action = new blogModel(blog);\r\n    return new Promise((resolve, reject) => {\r\n        action.save((err, result) => {\r\n            if (err) {\r\n                return reject({ err: err.errors, message: err.message, status: -99 });\r\n            }\r\n            return resolve(result);\r\n        });\r\n    });\r\n};\r\n\r\n/**\r\n * 【查询所有blog】\r\n * @param conditions {object} 查询条件\r\n * @param fields     {object} 过滤字段\r\n * @param options    {object} 其他操作\r\n */\r\nconst find = (conditions, fields, options) => {\r\n    //exec 返回promise实例\r\n    return blogModel.find(conditions, fields, options).exec();\r\n};\r\n\r\n/**\r\n * 【根据名称查找】\r\n */\r\nconst findByName = (name, cb) => {\r\n    return blogModel.findByName(name, cb);\r\n};\r\n\r\nexport default {\r\n    save,\r\n    find,\r\n    findByName,\r\n};"]}