{"version":3,"sources":["../../src/schema/blogSchema.js"],"names":[],"mappings":"AAAA;;;;;;AAMA;AACA,a;;AAEA;;AAEA;;;AAGA,IAAM,aAAa,oBAAW;AAC1B,WAAO;AACH,cAAM,MADH;AAEH,kBAAU,IAFP;AAGH,iBAAS,EAHN;AAIH,cAAM,IAJH,EADmB;;AAO1B,UAAM;AACF,cAAM,MADJ;AAEF,kBAAU,KAFR,EAPoB;;AAW1B,WAAO;AACH,cAAM,MADH;AAEH,iBAAS,WAFN,EAXmB;;AAe1B;AACA,SAAK;AACD,cAAM,MADL;AAED,kBAAU,IAFT;AAGD,iBAAS,CAHR,EAhBqB;;AAqB1B,aAAS;AACL,cAAM,MADD;AAEL,kBAAU,KAFL,EArBiB;;AAyB1B,eAAW;AACP,cAAM,IADC;AAEP,iBAAS,KAAK,GAFP,EAzBe;;AA6B1B,eAAW;AACP,cAAM,MADC;AAEP,kBAAU,IAFH;AAGP,aAAK,OAHE,EA7Be;;AAkC1B,eAAW;AACP,cAAM,MADC;AAEP,iBAAS,KAAK,GAFP,EAlCe;;AAsC1B,eAAW;AACP,cAAM,MADC;AAEP,kBAAU,IAFH;AAGP,aAAK,OAHE,EAtCe,EAAX,CAAnB;;;;AA6CA;;AAEA;;;;;AAKA;;;;;AAKA;;;AAGA,WAAW,GAAX,CAAe,MAAf,EAAuB,UAAC,IAAD,EAAU;AAC7B,YAAQ,GAAR;AACA;AACH,CAHD;AAIA;;;AAGA,WAAW,GAAX,CAAe,QAAf,EAAyB,UAAC,IAAD,EAAU;AAC/B;AACH,CAFD;;;AAKA;;;AAGA,WAAW,OAAX,GAAqB,EAArB;;;;;AAKA;;;AAGA,WAAW,OAAX,GAAqB;AACjB,cADiB,sBACN,IADM,EACA,EADA,EACI;AACjB,aAAK,IAAL,CAAU,EAAE,OAAO,IAAI,MAAJ,CAAW,IAAX,EAAiB,GAAjB,CAAT,EAAV,EAA4C,EAA5C;AACH,KAHgB,EAArB,C;;;AAMe,YAAG,KAAH,CAAS,OAAT,EAAkB,UAAlB,C","file":"blogSchema.js","sourcesContent":["/*\n * @Author: fengyun2\n * @Date:   2016-08-16 10:24:20\n * @Last Modified by:   fengyun2\n * @Last Modified time: 2016-08-16 10:45:14\n */\n///<reference path=\"../../typings/index.d.ts\" />\n'use strict';\n\nimport { db, Schema } from './mongodb';\n\n/**\n * Blog Schema\n */\nconst BlogSchema = new Schema({\n    title: {\n        type: String,\n        required: true,\n        default: '',\n        trim: true,\n    },\n    slug: {\n        type: String,\n        required: false,\n    },\n    state: {\n        type: String,\n        default: 'published'\n    },\n    // 置顶 0: 不置顶, 1: 置顶\n    top: {\n        type: Number,\n        required: true,\n        default: 0,\n    },\n    content: {\n        type: String,\n        required: false,\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    },\n    createdBy: {\n        type: String,\n        required: true,\n        ref: 'Users'\n    },\n    updatedAt: {\n        type: Number,\n        default: Date.now\n    },\n    updatedBy: {\n        type: String,\n        required: true,\n        ref: 'Users'\n    }\n});\n\n// TODO:\n\n/**\n * Validations\n */\n\n\n/**\n * Middleware\n */\n\n\n/**\n * Pre-save hook\n */\nBlogSchema.pre('save', (next) => {\n    console.log(`亲, 你正在保存文章...`);\n    next();\n});\n/**\n * Pre-remove hook\n */\nBlogSchema.pre('remove', (next) => {\n    next();\n});\n\n\n/**\n * Methods\n */\nBlogSchema.methods = {\n\n};\n\n\n/**\n * Statics\n */\nBlogSchema.statics = {\n    findByName(name, cb) {\n        this.find({ title: new RegExp(name, 'i') }, cb);\n    }\n};\n\nexport default db.model('Blogs', BlogSchema);"]}