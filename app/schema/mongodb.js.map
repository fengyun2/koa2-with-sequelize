{"version":3,"sources":["../../src/schema/mongodb.js"],"names":[],"mappings":"uCAAA,4C;AACA,oC;AACA,mBAAS,OAAT,GAAmB,OAAO,OAA1B;AACA,IAAM,SAAS,mBAAS,MAAxB;AACA,IAAM,2BAAyB,kBAAO,IAAhC,SAAwC,kBAAO,IAA/C,SAAuD,kBAAO,QAApE;;AAEA,IAAM,KAAK,mBAAS,gBAAT,CAA0B,SAA1B,EAAqC,UAAS,GAAT,EAAc;AAC1D,QAAI,GAAJ,EAAS,MAAM,GAAN;AACT,YAAQ,KAAR;AACH,CAHU,CAAX;;AAKA,GAAG,EAAH,CAAM,OAAN,EAAe,UAAC,GAAD,EAAS;AACpB,YAAQ,KAAR;AACH,CAFD;;AAIA,GAAG,EAAH,CAAM,MAAN,EAAc,YAAM;AAChB,YAAQ,GAAR;AACH,CAFD,E;;AAIe;AACX,UADW;AAEX,kBAFW,E","file":"mongodb.js","sourcesContent":["import config from '../config/mongodb';\r\nimport mongoose from 'mongoose';\r\nmongoose.Promise = global.Promise;\r\nconst Schema = mongoose.Schema;\r\nconst mongoLink = `mongodb://${config.host}:${config.port}/${config.database}`;\r\n\r\nconst db = mongoose.createConnection(mongoLink, function(err) {\r\n    if (err) throw err;\r\n    console.error(`connect mongodb's database success`);\r\n});\r\n\r\ndb.on('error', (err) => {\r\n    console.error(`数据库连接失败!`);\r\n});\r\n\r\ndb.on('open', () => {\r\n    console.log(`数据库连接成功!`);\r\n});\r\n\r\nexport default {\r\n    db,\r\n    Schema,\r\n};"]}