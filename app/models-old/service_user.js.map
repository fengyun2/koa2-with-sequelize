{"version":3,"sources":["../../src/models-old/service_user.js"],"names":[],"mappings":"4NAAA;;AAEA,IAAM,UAAU,QAAQ,WAAR,CAAhB;AACI,UAAU,QAAQ,MAAR,CADd;AAEI,WAAW,QAAQ,SAAR,EAAmB,QAFlC;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAI,UAAU,SAAV,OAAU,GAAU;AACpB,SAAK,cAAL,GAAsB,OAAtB;;AAEA;AACA,SAAK,eAAL,8BAAuB,iBAAY,UAAZ;AACH,iCAAK,OAAL,CAAa,EAAE,YAAa,UAAf,EAAb,CADG,SACf,GADe;AAEZ,2BAFY,gEAAvB;;;AAKA,QAAG,QAAQ,QAAR,IAAoB,IAAvB;AACA;AACI,gBAAQ,QAAR,GAAmB,IAAnB;AACH;AACD,WAAO,QAAQ,QAAf;AACH,CAdD;AAeA,QAAQ,SAAR,GAAoB,OAApB;;AAEA,OAAO,OAAP,GAAiB,OAAjB","file":"service_user.js","sourcesContent":["// 用户表\r\n\r\nconst service = require('./service'),\r\n    mongodb = require('./db'),\r\n    ObjectID = require('mongodb').ObjectID\r\n\r\n// const Service = () => {\r\n//     this.collectionName = 'users'\r\n//\r\n//     this.getByInviteCode = async(inviteCode) => {\r\n//         const res = await this.findOne({\r\n//             inviteCode: inviteCode\r\n//         })\r\n//         return res\r\n//     }\r\n//\r\n//     // 单例模式\r\n//     if (Service.instance == null) {\r\n//         Service.instance = this\r\n//     }\r\n//     return Service.instance\r\n// }\r\n//\r\n// Service.prototype = service\r\n//\r\n// module.exports = Service\r\n\r\n\r\nvar Service = function(){\r\n    this.collectionName = 'users';\r\n\r\n    // 这里扩充你自己的方法 比如 按照邀请码搜索\r\n    this.getByInviteCode = function * (inviteCode){\r\n        var res = yield this.findOne({ invitecode : inviteCode });\r\n        return res;\r\n    }\r\n\r\n    if(Service.instance == null)\r\n    {\r\n        Service.instance = this;\r\n    }\r\n    return Service.instance;\r\n}\r\nService.prototype = service;\r\n\r\nmodule.exports = Service;\r\n"]}